{% extends 'monitor/base.html' %}
{% load monitor_extras %}

{% block content %}
    <h1>{{ object.name }}</h1>
    <p>URL: <a href="{{ object.url }}">{{ object.url }}</a></p>
    <p>Frequency: {{ object.frequency_number }} {{ object.get_frequency_unit_display }}</p>
    <p>Last Checked: {{ object.last_checked }}</p>

    {% if object.has_changed %}
        <h2>Changes:</h2>
        <iframe src="{% url 'iframe_content' object.pk %}" style="width: 100%; height: 500px; border: 1px solid #ccc;"></iframe>
    {% elif diff %}
        <h2>Changes:</h2>
        {% if is_error %}
            <p>{{ diff }}</p>
        {% endif %}
    {% endif %}

    <hr>
    <h2>History</h2>
    <ul>
        {% for snapshot in snapshots %}
        <li><a href="">{{ snapshot.created_at }}</a></li>
        {% empty %}
        <li>No snapshots yet.</li>
        {% endfor %}
    </ul>
{% endblock %}
