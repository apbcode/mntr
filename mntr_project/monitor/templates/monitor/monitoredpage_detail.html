{% extends 'monitor/base.html' %}
{% load monitor_extras %}

{% block content %}
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Save</button>
    </form>

    <hr>

    {% if diff_content %}
        <h2>Changes:</h2>
        <div style="border: 1px solid #ccc; padding: 10px;">
            {{ diff_content|safe }}
        </div>
    {% endif %}

    <hr>
    <h2>History</h2>
    <ul>
        {% for snapshot in all_snapshots %}
            <li {% if snapshot.pk == object.last_seen_snapshot.pk %}class="last-seen"{% endif %}><a href="?snapshot_id={{ snapshot.pk }}">{{ snapshot.created_at|date:"Y-m-d H:i" }}</a></li>
        {% empty %}
            <li>No snapshots yet.</li>
        {% endfor %}
    </ul>
{% endblock %}
